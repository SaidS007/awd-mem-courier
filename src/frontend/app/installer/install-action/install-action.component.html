<div class="mat-dialog-content-container">
  <div mat-dialog-content [@.disabled]="disableAnimation">
    <mat-accordion>
      <mat-expansion-panel hideToggle expanded>
        <div class="launch-action">
          <h2 class="text-center primary">{{'lang.almostThere' | translate}}</h2>
          <button mat-raised-button type="button" class="primary"
            (click)="installStepAction.open();launchInstall()" style="font-size: 25px;padding: 20px;">
            <i class=" far fa-hdd"></i> {{'lang.launchInstall' | translate}}
          </button>
        </div>
      </mat-expansion-panel>
      <mat-expansion-panel #installStepAction [expanded]="false">
        @for (step of steps; track step) {
          <mat-list-item>
            <div mat-line class="step" [class.endStep]="step.state==='OK' || step.state==='KO'"
              [class.currentStep]="step.state==='inProgress'"><span class="stepLabel">{{step.label}}</span>
              @if (step.state==='inProgress') {
                ...
                }&nbsp;
                @if (step.state==='OK') {
                  <i class="fa fa-check" style="color: green"></i>
                }
                @if (step.state==='KO') {
                  <i class="fa fa-times" style="color: red"></i>
                }
                @if (step.msgErr!=='') {
                  <div class="alert-message alert-message-danger" role="alert"
                    style="margin-top: 30px;min-width: 100%;">
                    {{step.msgErr}}
                  </div>
                }
              </div>
            </mat-list-item>
          }
        </mat-expansion-panel>
      </mat-accordion>
    </div>
    @if (isInstallComplete() || isInstallError() || !isInstallBegin()) {
      <span class="divider-modal"></span>
      <div mat-dialog-actions class="actions">
        @if (!isInstallError() && isInstallComplete()) {
          <button mat-raised-button mat-button class="primary"
          (click)="goToInstance()">{{'lang.goToNewInstance' | translate}}</button>
        }
        @if (isInstallError() || !isInstallBegin()) {
          <button mat-raised-button mat-button [mat-dialog-close]="">{{'lang.cancel' | translate}}</button>
        }
      </div>
    }
  </div>