<div class="mat-dialog-content-container">
  <div mat-dialog-content class="contact-list-container" [class.contact-list-container-1]="data.duplicate.length === 1"
    [class.contact-list-container-2]="data.duplicate.length === 2">
    @for (contact of data.duplicate; track contact; let i = $index) {
      <div style="position: relative;">
        <app-contact-detail #appContactDetail
          [class.merged]="contactSelected!==i && contactSelected!==null && contactsExcluded.indexOf(contact.id) === -1"
          [contact]="contact" [selectable]="contactSelected===i || contactSelected===null"
          (afterSelectedEvent)="mergeContact($event, i)" (afterDeselectedEvent)="resetContact($event, i)"
          style="height: 100%">
        </app-contact-detail>
        @if (contactSelected!==i && contactSelected!==null && contactsExcluded.indexOf(contact.id) === -1) {
          <button mat-raised-button mat-button
            style="position: absolute;bottom: 0px;left: 50%;transform: translateX(-50%);"
          (click)="toggleExcludeContact(contact);mergeContact()">{{'lang.excludeContact' | translate}}</button>
        }
        @if (contactSelected!==i && contactSelected!==null && contactsExcluded.indexOf(contact.id) > -1) {
          <i
          class="fas fa-ban excludeLogo"></i>
        }
        @if (contactSelected!==i && contactSelected!==null && contactsExcluded.indexOf(contact.id) > -1) {
          <button mat-raised-button mat-button class="primary"
            style="position: absolute;bottom: 0px;left: 50%;transform: translateX(-50%);"
            (click)="toggleExcludeContact(contact);mergeContact()"><i class="fas fa-ban"></i>&nbsp;{{'lang.contactExcluded' | translate}}</button>
          }
        </div>
      }
    </div>
    <span class="divider-modal"></span>
    <div mat-dialog-actions class="actions">
      <button mat-raised-button mat-button class="primary"
        [disabled]="contactSelected===null || loading || contactsExcluded.length === data.duplicate.length -1"
      (click)="onSubmit()">{{'lang.merge' | translate}}</button>
      <button mat-raised-button mat-button [mat-dialog-close]="">{{'lang.cancel' | translate}}</button>
    </div>
  </div>
