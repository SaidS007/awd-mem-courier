<div class="mat-dialog-content-container">
  <h1 mat-dialog-title>
    <span style="flex: 1;">
      {{creationMode ? ('lang.contactCreation' | translate) : ('lang.contact' | translate)}}
    </span>
    <button [title]="'lang.close' | translate" mat-icon-button (click)="dialogRef.close();">
      <mat-icon class="fa fa-times"></mat-icon>
    </button></h1>
    <mat-dialog-content class="modal-container">
      <mat-sidenav-container>
        <mat-sidenav-content>
          @if (mode === 'update') {
            <app-contact-form [creationMode]="creationMode" [contactId]="data.contactId"
            (submitEvent)="dialogRef.close($event)" (linkContact)="linkContact($event)"></app-contact-form>
          }
          @if (mode === 'read') {
            <app-contact-detail [contact]="contact"></app-contact-detail>
          }
        </mat-sidenav-content>
        <mat-sidenav #drawer position='end' mode="side" style="overflow-x:hidden;width: 50%;" autoFocus="false">
          @if (loadedDocument) {
            <app-document-viewer
              #appDocumentViewer
              class="documentViewer"
              [editMode]="false"
              [base64]="headerService.getLastLoadedFile()">
            </app-document-viewer>
          }
        </mat-sidenav>
      </mat-sidenav-container>
    </mat-dialog-content>
    <span class="divider-modal"></span>
    @if (canUpdate && mode === 'read' && contact.type === 'contact') {
      <div mat-dialog-actions class="actions">
        <button mat-raised-button class="primary" (click)="switchMode()">{{'lang.update' | translate}}</button>
      </div>
    }
  </div>

  <!--<div [class.admin-contact]="mode === 'update'">

</div>-->